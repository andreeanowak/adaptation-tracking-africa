"0","# Define break points and color labels"
"0","break_points <- c(-Inf, 0, 50, 100, 150, 200, 250, 300, 350)"
"0","color_labels <- c(""0"", ""1-50"", ""51-100"", ""101-150"", ""151-200"", ""201-250"", ""251-300"", ""301-350"")"
"0",""
"0","# Generate the color_class column"
"0","long_cty_elem$color_class <- cut(long_cty_elem$Value, "
"0","                                 breaks = break_points, "
"0","                                 labels = color_labels, "
"0","                                 right = TRUE, include.lowest = TRUE)"
"0",""
"0","# Compute mid-points for color_labels"
"0","mid_points <- sapply(2:length(break_points), function(i) {"
"0","  (break_points[i-1] + break_points[i]) / 2"
"0","})"
"0",""
"0","# Adjusting for the -Inf value in the first break point"
"0","mid_points[1] <- 0"
"0",""
"0","# Create the color_value column"
"0","long_cty_elem$color_value <- as.numeric(mid_points[as.numeric(long_cty_elem$color_class)])"
"0",""
"0","# Define the color palette"
"0","greens <- c(""#D0E9E7"",""#8bcac4"", ""#5ab4ac"", ""#01665e"", ""#004741"",""#00332f"", ""#001a18"" )"
"0","colors <- c(""white"", greens)"
